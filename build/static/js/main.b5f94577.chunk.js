(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e){e.exports={key:"46d6b695a7350980a942eaea05c367f2"}},29:function(e,t,a){e.exports=a(61)},38:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),o=a(2),u=a(24),l=a(25),s=a.n(l),d=a(8),h=(a(38),a(5)),p=a(6),m=a(9),f=a(7),E=a(10),g=a(27),w=a.n(g),v=a(28),y=function(){return{type:"REQUEST_WEATHER"}},b=function(e){return{type:"RECEIVE_WEATHER",payload:e}},O=(a(58),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={weather:e.data},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this.state.weather,a=Math.round(+t.main.temp),n=t.weather[0],c=n.description,i=n.icon,o=t.main.humidity,u=t.wind.speed;return r.a.createElement("div",{className:"current-weather"},r.a.createElement("p",null,(e=c).charAt(0).toUpperCase()+e.slice(1)),r.a.createElement("h1",{className:"large-font"},r.a.createElement("span",null,r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(i,".png"),alt:"icon ".concat(c)})),a,"\xb0F"),r.a.createElement("p",null,"Humidity: ",o),r.a.createElement("p",null,"Wind: ",u))}}]),t}(n.Component)),j=(a(59),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderLoading=function(){return r.a.createElement("div",{className:"container center"},"Loading...")},a.renderWeather=function(){var e=a.props,t=e.city,n=e.data;return r.a.createElement("div",{className:"container center"},r.a.createElement("h1",null,t),r.a.createElement(O,{data:n}))},a.shouldRenderWeather=function(){return a.props.isFetching||!a.props.data?a.renderLoading():a.renderWeather()},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchWeather()}},{key:"render",value:function(){return this.shouldRenderWeather()}}]),t}(n.Component)),W=Object(d.b)(function(e){return{isFetching:e.weather.isFetching,data:e.weather.data,city:e.weather.city}},{fetchWeather:function(){return function(e){e(y());var t=function(e){var t=localStorage.getItem("weather");if(!t)return null;var a=JSON.parse(t),n=a.timestamp,r=a.data;return Date.now()-n>6e4*e?null:r}(60);if(t)return e(b(t));navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude,r="https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(n,"&APPID=").concat(v.key,"&units=imperial");w.a.get(r).then(function(t){e(b(t.data)),localStorage.setItem("weather",JSON.stringify({timestamp:Date.now(),data:t.data}))}).catch(function(e){console.error(e),alert("Unable to retrieve weather data. Please refresh.")})})}}})(j),R=(a(60),function(){return r.a.createElement("div",{className:"background"},r.a.createElement(W,null))}),k=a(16),A={isFetching:!1,data:null,city:null},F=Object(o.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_WEATHER":return Object(k.a)({},e,{isFetching:!0});case"RECEIVE_WEATHER":return Object(k.a)({},e,{isFetching:!1,data:t.payload,city:t.payload.name});default:return e}}}),N=Object(o.a)(u.a,s.a)(o.d);i.a.render(r.a.createElement(d.a,{store:N(F)},r.a.createElement(R,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.b5f94577.chunk.js.map